import"./app-ukoE8fgy.js";import{v as y,a as v}from"./usersAPIs-AQb3Emfp.js";import{r as g}from"./share-82iyTzSj.js";import{c as l,f as o}from"./utils-UJ-EUY8v.js";g("./index.html");const m="0:0:1:0";new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});const S=document.querySelectorAll(".otp__input");S.forEach(e=>{e.addEventListener("input",t=>{const r=e.previousElementSibling;e.value.length===1&&r&&r.focus()}),e.addEventListener("keyup",t=>{const r=e.nextElementSibling;t.keyCode==8&&r&&r.focus()})});const s=document.querySelector(".timer__sec"),i=document.querySelector(".timer__min"),u=document.querySelector(".timer__hur"),d=document.querySelector(".timer__day"),f=document.querySelector(".submit-btn"),a=document.querySelector(".timer__reset");l(d,u,i,s,m,!0,()=>{a.removeAttribute("disabled"),f.setAttribute("disabled","true")});a.addEventListener("click",async()=>{await _()&&(i.innerHTML="01",s.innerHTML="00",l(d,u,i,s,m,!0),a.setAttribute("disabled","true"),f.removeAttribute("disabled"))});const b=document.querySelector("form"),c=document.querySelectorAll(".otp__input");b.addEventListener("submit",async e=>{e.preventDefault();let t="";c.forEach(n=>{t=t+n.value});const r={code:t.split("").reverse().join(""),email:localStorage.getItem("register-email")};o("loading");const p=await y(r,()=>{c.forEach(n=>{n.value=""})});o("loaded"),p.status&&location.replace("./index.html")});async function _(){const e={email:localStorage.getItem("register-email"),username:localStorage.getItem("register-username")};o("loading");const t=await v(e);return o("loaded"),t.status}
